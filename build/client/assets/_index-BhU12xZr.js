import{o as $,w as f,x as L,q as S,p as Z,n as e,v as a,F as v}from"./components-C24tdFfd.js";const N=9;function P(){const{products:w,total:l,page:t,totalPages:d,sort:r,category:A,selectedCategories:o=[],categories:b}=$();f();const u=L(),h=r?`&sort=${encodeURIComponent(r)}`:"",x=o.length?o.map(s=>`&category=${encodeURIComponent(s)}`).join(""):"",y=l===0?0:(t-1)*N+1,k=Math.min(t*N,l),m=5;let i=Math.max(1,t-Math.floor(m/2)),c=i+m-1;c>d&&(c=d,i=Math.max(1,c-m+1));const g=S(),p=Z("root"),j=(p==null?void 0:p.cartCount)??0;return e.jsxs("div",{children:[e.jsxs("header",{className:"header",children:[e.jsx("strong",{className:"logo",children:"THE ONLINE STORE"}),e.jsxs("nav",{className:"pageLinks",children:[e.jsx(a,{to:"/",children:"Home"}),e.jsx(a,{to:"/shop",children:"Shop"}),e.jsx(a,{to:"/about",children:"About"}),e.jsx(a,{to:"/contact",children:"Contact"}),e.jsx(a,{to:"/blog",children:"Blog"})]}),e.jsxs("div",{className:"icons",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"icon",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"icon",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),e.jsxs(a,{to:"/cart","aria-label":"Open cart",className:"cartButton",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"cartIcon",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})}),j>0&&e.jsx("span",{className:"cartBadge",children:j})]})]})]}),e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"mainContent",children:[e.jsxs("div",{className:"filters",children:[e.jsx("div",{className:"filterCategories",children:e.jsxs(v,{method:"get",className:"sortForm",onChange:s=>u(s.currentTarget,{replace:!0}),children:[e.jsxs("select",{id:"sort",name:"sort",defaultValue:r||"",children:[e.jsx("option",{value:"",children:"Sort by "}),e.jsx("option",{value:"title-asc",children:"Title (A–Z)"}),e.jsx("option",{value:"title-desc",children:"Title (Z–A)"}),e.jsx("option",{value:"price-asc",children:"Price (Low → High)"}),e.jsx("option",{value:"price-desc",children:"Price (High → Low)"})]}),o.map(s=>e.jsx("input",{type:"hidden",name:"category",value:s},s)),e.jsx("input",{type:"hidden",name:"page",value:"1"})]},`sort-${g.search}`)}),e.jsx("div",{className:"showing",children:e.jsxs("small",{children:["Showing ",y,"-",k," of ",l]})})]}),e.jsx("div",{className:"productGrid",children:w.map(s=>e.jsxs(a,{to:`/products/${s.id}`,className:"productCard",style:{textDecoration:"none",color:"inherit"},children:[e.jsx("div",{className:"thumb",children:e.jsx("img",{src:s.thumbnail,alt:s.title,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:8}})}),e.jsx("div",{className:"title",children:s.title}),e.jsxs("div",{className:"price",children:["$",Number(s.price).toFixed(2)]})]},s.id))}),e.jsxs("div",{className:"pagination",children:[t>1&&e.jsx(a,{to:`/?page=${t-1}${h}${x}`,className:"page nav","aria-label":"Previous page",children:"‹"}),Array.from({length:c-i+1},(s,C)=>{const n=i+C;return e.jsx(a,{to:`/?page=${n}${h}${x}`,className:n===t?"page active":"page","aria-current":n===t?"page":void 0,children:n},n)}),t<d&&e.jsx(a,{to:`/?page=${t+1}${h}${x}`,className:"page nav","aria-label":"Next page",children:"›"})]})]}),e.jsx("div",{className:"Sidebar",children:e.jsxs("div",{className:"categoriesContainer",children:[e.jsx("h3",{children:"Categories"}),e.jsxs(v,{method:"get",onChange:s=>u(s.currentTarget,{replace:!0}),className:"categoryForm",children:[e.jsx("input",{type:"hidden",name:"sort",value:r||""}),e.jsx("input",{type:"hidden",name:"page",value:"1"}),e.jsx("ul",{style:{listStyle:"none",padding:0,margin:"8px 0"},children:b.map(s=>e.jsx("li",{style:{margin:"6px 0"},children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"category",value:s,defaultChecked:o.includes(s)})," ",s]})},s))})]},`cats-${g.search}`)]})})]})]})}export{P as default};
