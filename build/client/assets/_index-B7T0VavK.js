import{o as k,p as C,t as $,v as f,n as e,q as a,F as j}from"./components-CtgBr_vo.js";const u=9;function Z(){const{products:v,total:l,page:t,totalPages:d,sort:i,category:L,selectedCategories:r=[],categories:N}=k();C();const p=$(),h=i?`&sort=${encodeURIComponent(i)}`:"",x=r.length?r.map(s=>`&category=${encodeURIComponent(s)}`).join(""):"",w=l===0?0:(t-1)*u+1,b=Math.min(t*u,l),m=5;let o=Math.max(1,t-Math.floor(m/2)),c=o+m-1;c>d&&(c=d,o=Math.max(1,c-m+1));const g=f();return e.jsxs("div",{children:[e.jsxs("header",{className:"header",children:[e.jsx("strong",{className:"logo",children:"THE ONLINE STORE"}),e.jsxs("nav",{className:"pageLinks",children:[e.jsx(a,{to:"/",children:"Home"}),e.jsx(a,{to:"/shop",children:"Shop"}),e.jsx(a,{to:"/about",children:"About"}),e.jsx(a,{to:"/contact",children:"Contact"}),e.jsx(a,{to:"/blog",children:"Blog"})]}),e.jsxs("div",{className:"icons",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"icon",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"icon",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),e.jsx(a,{to:"/cart","aria-label":"Open cart",className:"icon",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"icon",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})})})]})]}),e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"mainContent",children:[e.jsxs("div",{className:"filters",children:[e.jsx("div",{className:"filterCategories",children:e.jsxs(j,{method:"get",className:"sortForm",onChange:s=>p(s.currentTarget,{replace:!0}),children:[e.jsxs("select",{id:"sort",name:"sort",defaultValue:i||"",children:[e.jsx("option",{value:"",children:"Sort by "}),e.jsx("option",{value:"title-asc",children:"Title (A–Z)"}),e.jsx("option",{value:"title-desc",children:"Title (Z–A)"}),e.jsx("option",{value:"price-asc",children:"Price (Low → High)"}),e.jsx("option",{value:"price-desc",children:"Price (High → Low)"})]}),r.map(s=>e.jsx("input",{type:"hidden",name:"category",value:s},s)),e.jsx("input",{type:"hidden",name:"page",value:"1"})]},`sort-${g.search}`)}),e.jsx("div",{className:"showing",children:e.jsxs("small",{children:["Showing ",w,"-",b," of ",l]})})]}),e.jsx("div",{className:"productGrid",children:v.map(s=>e.jsxs(a,{to:`/products/${s.id}`,className:"productCard",style:{textDecoration:"none",color:"inherit"},children:[e.jsx("div",{className:"thumb",children:e.jsx("img",{src:s.thumbnail,alt:s.title,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:8}})}),e.jsx("div",{className:"title",children:s.title}),e.jsxs("div",{className:"price",children:["$",Number(s.price).toFixed(2)]})]},s.id))}),e.jsxs("div",{className:"pagination",children:[t>1&&e.jsx(a,{to:`/?page=${t-1}${h}${x}`,className:"page nav","aria-label":"Previous page",children:"‹"}),Array.from({length:c-o+1},(s,y)=>{const n=o+y;return e.jsx(a,{to:`/?page=${n}${h}${x}`,className:n===t?"page active":"page","aria-current":n===t?"page":void 0,children:n},n)}),t<d&&e.jsx(a,{to:`/?page=${t+1}${h}${x}`,className:"page nav","aria-label":"Next page",children:"›"})]})]}),e.jsx("div",{className:"Sidebar",children:e.jsxs("div",{className:"categoriesContainer",children:[e.jsx("h3",{children:"Categories"}),e.jsxs(j,{method:"get",onChange:s=>p(s.currentTarget,{replace:!0}),className:"categoryForm",children:[e.jsx("input",{type:"hidden",name:"sort",value:i||""}),e.jsx("input",{type:"hidden",name:"page",value:"1"}),e.jsx("ul",{style:{listStyle:"none",padding:0,margin:"8px 0"},children:N.map(s=>e.jsx("li",{style:{margin:"6px 0"},children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"category",value:s,defaultChecked:r.includes(s)})," ",s]})},s))})]},`cats-${g.search}`)]})})]})]})}export{Z as default};
